<div class="container mx-auto px-4 py-8 max-w-md" data-controller="todo">
  <h1 class="text-3xl font-bold mb-6">Todo List</h1>

  <%= form_with(model: Todo.new, class: "mb-6", data: { todo_target: "form" }) do |f| %>
    <div class="flex gap-2">
      <%= f.text_field :title,
          class: "flex-1 p-2 border rounded",
          placeholder: "Add a new todo" %>
      <%= f.submit "Add",
          class: "bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600" %>
    </div>
  <% end %>

  <div class="mb-6 flex gap-2">
    <%= link_to "All", todos_path,
        class: "px-3 py-1 rounded #{!params[:filter] ? 'bg-blue-500 text-white' : 'bg-gray-200'}" %>
    <%= link_to "Pending", todos_path(filter: 'pending'),
        class: "px-3 py-1 rounded #{params[:filter] == 'pending' ? 'bg-blue-500 text-white' : 'bg-gray-200'}" %>
    <%= link_to "Completed", todos_path(filter: 'completed'),
        class: "px-3 py-1 rounded #{params[:filter] == 'completed' ? 'bg-blue-500 text-white' : 'bg-gray-200'}" %>
    <%= link_to "GraphQL Explorer", "/graphql-demo",
        class: "px-3 py-1 rounded bg-purple-500 text-white hover:bg-purple-600 ml-auto" %>
  </div>

  <div id="todos" data-todo-target="list">
    <%= render @filtered_todos %>
  </div>
</div>
